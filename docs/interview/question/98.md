# :question: 如何实现骨架屏，说说你的思路？

## 手写骨架屏

- 通过 html 和 css 手写
- 骨架屏样式完全复刻页面真实样式

### 弊端

- 维护成本高（每次需求变更我们不仅需要修改业务代码，同时也要去修改骨架屏的样式布局）

## SSR 服务端渲染

- [Next.js](https://nuxtjs.org/)

### 优点

- SEO 优化

- 加快内容呈现

### 缺点

- 服务端构建，部署
- 大流量网站要考虑服务器的负载，以及相应的缓存策略
- 以及“千人千面”（外面行业的由于地理位置不同用户看到的页面也是不一样的）

## 预渲染 pretender

我们所说的预渲染，就是在项目的构建过程中，通过一些渲染机制，比如说 [puppeteer](https://github.com/GoogleChrome/puppeteer) 或者 [jsdom](https://npmjs.com/package/jsdom) 将页面在构建的过程中就渲染好，然后插入到 html 中，这样在页面启动之前用户首先看到的就是预渲染的页面了。

### 缺点

- 真实页面数据有可能和真实数据有很大的出入
- 预渲染的页面不是一个可以交互的页面，在真实页面没有渲染之前，用户无法和预渲染的页面进行任何的交互
- 同时预渲染的数据有可能也会影响到用户获取真实的信息（地理位置，金额，价钱等）

## 最终方案 自动化生成骨架屏

> [一种自动化生成骨架屏的方案(element)](https://github.com/Jocs/jocs.github.io/issues/22)
