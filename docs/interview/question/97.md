# :question: å¼¹æ€§ç›’å­ä¸­ flex: 0 1 auto è¡¨ç¤ºä»€ä¹ˆæ„æ€ï¼Ÿ

```css
.item {
  flex: 0 1 auto;
}
```

`flex` å±æ€§æ˜¯ `flex-grow`ã€`flex-shrink`ã€`flex-basis` çš„ç®€å†™ é»˜è®¤å€¼ä¸º `0 1 auto` åä¸¤ä¸ªå±æ€§å¯é€‰

```css
.item {
  /* ä¸€å®šé¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ é»˜è®¤å€¼ 0 å³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§ */
  /* å¦‚æœæ‰€æœ‰é¡¹ç›®çš„çš„ flex-grow éƒ½ä¸º 1 åˆ™ä»–ä»¬å°†ç­‰åˆ†å‰©ä½™ç©ºé—´ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ */
  /* å¦‚æœæœ‰ä¸€ä¸ªé¡¹ç›®çš„ flex-grow ä¸º 2 å…¶ä»–é¡¹ç›®éƒ½ä¸º 1 é‚£ä¹ˆå‰è€…å æ®çš„å‰©ä½™ç©ºé—´å°†æ¯”å…¶ä»–é¡¹å¤šä¸€å€ */
  flex-grow: 0;

  /* å®šä¹‰é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ é»˜è®¤å€¼ä¸º 1 å³ç©ºé—´ä¸è¶³ è¯¥é¡¹ç›®å°†ç¼©å° */
  /* å¦‚æœæ‰€æœ‰é¡¹ç›®çš„ flex-shrink å±æ€§éƒ½ä¸º 1 å½“ç©ºé—´ä¸è¶³æ—¶ éƒ½å°†ç­‰æ¯”ä¾‹ç¼©å° */
  /* å¦‚æœä¸€ä¸ªé¡¹ç›®çš„ flex-shrink å±æ€§ä¸º 0 å…¶ä»–é¡¹ç›®éƒ½ä¸º 1 åˆ™ç©ºé—´ä¸è¶³æ—¶ å‰è€…ä¸ç¼©å° */
  /* è´Ÿå€¼å¯¹è¯¥å±æ€§æ— æ•ˆ */
  flex-shrink: 1;

  /* å®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ é¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆmain sizeï¼‰*/
  /* æµè§ˆå™¨æ ¹æ®è¿™ä¸ªå±æ€§ è®¡ç®—ä¸»è½´æ˜¯å¦æœ‰å¤šä½™ç©ºé—´ å®ƒé»˜è®¤ä¸º auto å³é¡¹ç›®çš„æœ¬æ¥å¤§å° */
  flex-basis: auto;
}
```

## æ‰©å±•

é‚£ä¹ˆ `flex-grow`ã€`flex-shrink` å®½åº¦æ˜¯æ€ä¹ˆå»è®¡ç®—çš„å‘¢

è¯·çœ‹é¢˜ :question:

```css
* {
  padding: 0;
  margin: 0;
}
.container {
  width: 600px;
  height: 300px;
  display: flex;
}
.left {
  flex: 1 2 500px;
  background: red;
}
.right {
  flex: 2 1 400px;
  background: blue;
}
```

é‚£ä¹ˆ `left` `right` åˆ†åˆ«å æ®çš„å®½åº¦æ˜¯å¤šå°‘

### `flex-grow`

å¦‚ä½•åˆ†é…å‰©ä½™ç©ºé—´ï¼Œå…¶å€¼ä¸ºä¸€ä¸ªæƒé‡ï¼ˆä¹Ÿç§°æ‰©å¼ å› å­ï¼‰ï¼Œé»˜è®¤ä¸º 0ï¼Œå‰©ä½™ç©ºé—´å°†ä¼šæŒ‰ç…§è¿™ä¸ªæƒé‡æ¥åˆ†é…ã€‚

ä¸¾ä¸ª ğŸŒ°

```less
.container {
  width: x;
  display: flex;

  .item1 {
    // æ‰€å æ®çš„ç©ºé—´å°±æ˜¯
    // x * a / (a + b + c)
    flex-grow: a;
  }

  .item2 {
    // æ‰€å æ®çš„ç©ºé—´å°±æ˜¯
    // x * b / (a + b + c)
    flex-grow: b;
  }

  .item3 {
    // æ‰€å æ®çš„ç©ºé—´å°±æ˜¯
    // x * c / (a + b + c)
    flex-grow: c;
  }
}
// å¦‚æœ
// x = 1000
// a = 1
// b = 2
// c = 3
// then =>
// item1 => width: 1000 * 1 / (1 + 2 + 3) => 166.66
// item1 => width: 1000 * 2 / (1 + 2 + 3) => 333.33
// item1 => width: 1000 * 3 / (1 + 2 + 3) => 500
```

å†ä¸¾ä¸ª ğŸŒ°

```less
.container {
  width: 1000px;
  display: flex;

  .item1 {
    width: 200px;
    flex-grow: a;
  }

  .item2 {
    width: 100px;
    flex-grow: b;
  }
}
// é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ flex-grow æ€ä¹ˆç®—
// å‰©ä½™ç©ºé—´ï¼šx => (1000 - 200 - 300) => 700
// item1 => width: 200(åŸæœ‰å®šä¹‰çš„) + 700 * a / (a + b)
// item2 => width: 100(åŸæœ‰å®šä¹‰çš„) + 700 * b / (a + b)
```

**æ³¨æ„**ï¼šå¦‚æœ `(a + b + c + ...) < 1`

```js
// ä»–ä»¬ä¼šèµ°è¿™æ ·ä¸€ä¸ªé€»è¾‘
let num = a + b + c + ...
if (num < 1) num = 1
```

## `flex-shrink`

> [Flex å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡](http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html)
